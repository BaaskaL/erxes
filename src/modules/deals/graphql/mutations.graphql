fragment DealForm on Deal {
  _id
  name
  stageId
  companies {
    _id
    name
  }
  customers {
    _id
    firstName
    email
  }
  products
  amount
  closeDate
  description
  assignedUsers {
    _id
    email
    details {
      fullName
      avatar
    }
  }
}

mutation dealsAdd($name: String!, $stageId: String!, $productsData: JSON, $companyIds: [String], $customerIds: [String], $closeDate: Date, $description: String, $assignedUserIds: [String], $order: Int) {
  dealsAdd(name: $name, stageId: $stageId, productsData: $productsData, companyIds: $companyIds, customerIds: $customerIds, closeDate: $closeDate, description: $description, assignedUserIds: $assignedUserIds, order: $order) {
    ...DealForm
  }
}

mutation dealsEdit($_id: String!, $name: String!, $stageId: String!, $productsData: JSON, $companyIds: [String], $customerIds: [String], $closeDate: Date, $description: String, $assignedUserIds: [String], $order: Int) {
  dealsAdd(_id: $_id, name: $name, stageId: $stageId, productsData: $productsData, companyIds: $companyIds, customerIds: $customerIds, closeDate: $closeDate, description: $description, assignedUserIds: $assignedUserIds, order: $order) {
    ...DealForm
  }
}

mutation dealsRemove($_id: String!) {
  dealsRemove(_id: $_id) {
    _id
  }
}

mutation dealsUpdateOrder($orders: [OrderItem]) {
  dealsUpdateOrder(orders: $orders) {
    _id
  }
}

mutation dealStagesUpdateOrder($orders: [OrderItem]) {
  dealStagesUpdateOrder(orders: $orders) {
    _id
  }
}

mutation dealsChange($_id: String!, $stageId: String!) {
  dealsChange(_id: $_id, stageId: $stageId) {
    ...DealForm
  }
}

mutation dealStagesChange($_id: String!, $pipelineId: String!) {
  dealStagesChange(_id: $_id, pipelineId: $pipelineId) {
    _id
  }
}
